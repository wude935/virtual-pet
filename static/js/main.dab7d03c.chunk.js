(this["webpackJsonpvirtual-pet"]=this["webpackJsonpvirtual-pet"]||[]).push([[1],{52:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=52},53:function(e,t){},64:function(e,t,n){var i={"./ion-action-sheet.entry.js":[100,5],"./ion-alert.entry.js":[101,6],"./ion-app_8.entry.js":[102,7],"./ion-avatar_3.entry.js":[103,17],"./ion-back-button.entry.js":[104,18],"./ion-backdrop.entry.js":[105,43],"./ion-button_2.entry.js":[106,19],"./ion-card_5.entry.js":[107,20],"./ion-checkbox.entry.js":[108,21],"./ion-chip.entry.js":[109,22],"./ion-col_3.entry.js":[110,44],"./ion-datetime_3.entry.js":[111,10],"./ion-fab_3.entry.js":[112,23],"./ion-img.entry.js":[113,45],"./ion-infinite-scroll_2.entry.js":[114,46],"./ion-input.entry.js":[115,24],"./ion-item-option_3.entry.js":[116,25],"./ion-item_8.entry.js":[117,26],"./ion-loading.entry.js":[118,27],"./ion-menu_3.entry.js":[119,28],"./ion-modal.entry.js":[120,8],"./ion-nav_2.entry.js":[121,14],"./ion-popover.entry.js":[122,9],"./ion-progress-bar.entry.js":[123,29],"./ion-radio_2.entry.js":[124,30],"./ion-range.entry.js":[125,31],"./ion-refresher_2.entry.js":[126,11],"./ion-reorder_2.entry.js":[127,16],"./ion-ripple-effect.entry.js":[128,47],"./ion-route_4.entry.js":[129,32],"./ion-searchbar.entry.js":[130,33],"./ion-segment_2.entry.js":[131,34],"./ion-select_3.entry.js":[132,35],"./ion-slide_2.entry.js":[133,48],"./ion-spinner.entry.js":[134,13],"./ion-split-pane.entry.js":[135,49],"./ion-tab-bar_2.entry.js":[136,36],"./ion-tab_2.entry.js":[137,15],"./ion-text.entry.js":[138,37],"./ion-textarea.entry.js":[139,38],"./ion-toast.entry.js":[140,39],"./ion-toggle.entry.js":[141,12],"./ion-virtual-scroll.entry.js":[142,50]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id=64,e.exports=a},66:function(e,t,n){var i={"./ion-icon.entry.js":[143,57]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id=66,e.exports=a},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},79:function(e,t){},80:function(e,t){},81:function(e,t){},82:function(e,t){},83:function(e,t){},84:function(e,t){},85:function(e,t,n){},86:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(29),c=n.n(o),r=n(24),s=n(5),j=n(54),l=n(9),u=n(18),b=n(2),d=Object(i.createContext)(),m=d;function h(e){var t=Object(i.useState)({start:!1,mute:!1,score:0,highScores:[]}),n=Object(u.a)(t,2),a=n[0],o=n[1];return Object(b.jsx)(d.Provider,{value:{game:a,setGame:o,gameReset:function(e){var t=a.highScores;t.push({name:e,score:a.score,id:t.length}),o(Object(l.a)(Object(l.a)({},a),{},{start:!1,score:0,highScores:t}))}},children:e.children})}var g=n.p+"static/media/feed.346645bb.wav",O=n.p+"static/media/play.51c831ba.wav",f=n.p+"static/media/clean.1047206a.wav",y=Object(i.createContext)(),v=y;function x(e){var t={name:"Your Pet",type:"",alive:!0,hunger:100,boredom:100,hygiene:100,action:void 0},n=Object(i.useState)(t),a=Object(u.a)(n,2),o=a[0],c=a[1],r=Object(i.useContext)(m),s=r.game,j=(r.setGame,new Audio(g)),d=new Audio(O),h=new Audio(f);Object(i.useMemo)((function(){0!=o.hunger&&0!=o.boredom&&0!=o.hygiene||c(Object(l.a)(Object(l.a)({},o),{},{alive:!1}))}),[o.hunger,o.boredom,o.hygiene]);var v={feed:function(){c(Object(l.a)(Object(l.a)({},o),{},{hunger:Math.min(100,o.hunger+40),boredom:Math.min(100,o.boredom+15),hygiene:Math.max(0,o.hygiene-10),action:"feed"})),setTimeout((function(){return c(Object(l.a)(Object(l.a)({},o),{},{action:void 0}))}),5e3),s.mute||j.play()},play:function(){c(Object(l.a)(Object(l.a)({},o),{},{hunger:Math.max(0,o.hunger-10),boredom:Math.min(100,o.boredom+50),hygiene:Math.max(0,o.hygiene-20),action:"play"})),setTimeout((function(){return c(Object(l.a)(Object(l.a)({},o),{},{action:void 0}))}),5e3),s.mute||d.play()},clean:function(){c(Object(l.a)(Object(l.a)({},o),{},{boredom:Math.min(100,o.boredom+5),hygiene:Math.min(100,o.hygiene+40),action:"clean"})),setTimeout((function(){return c(Object(l.a)(Object(l.a)({},o),{},{action:void 0}))}),5e3),s.mute||h.play()},name:function(e){c(Object(l.a)(Object(l.a)({},o),{},{name:e}))},reset:function(){c(t)}};return Object(b.jsx)(y.Provider,{value:{pet:o,setPet:c,petActions:v},children:e.children})}n(75);var p,C,k,w,_,M,N,P,S,I,E,F,T,z=n(56),L=n.n(z),A=n.p+"static/media/standing.1a463c99.gif",B=n.p+"static/media/bored.c9027051.gif",G=n.p+"static/media/runL.7ce89b5b.gif",D=n.p+"static/media/runR.aa0e722e.gif",U=n.p+"static/media/food2.2b2b1b10.png",R=n.p+"static/media/ded.48bd9b2e.png",H=n.p+"static/media/ball.2891205a.png",W=n.p+"static/media/bath.4fe9d1f8.gif",J=n.p+"static/media/eat.55e0f72c.gif",V=n.p+"static/media/heart.e7b0a82a.png";function Y(e){var t=Object(i.useContext)(m),n=t.game,a=(t.setGame,Object(i.useContext)(v)),o=a.pet,c=(a.setPet,a.petActions,Object(i.useCallback)((function(e,t){e.background("rgb(100%, 100%, 100%)"),n.start&&(k.resize(300,0),M.resize(300,0),_.resize(300,0),"feed"==o.action?(e.background("rgb(100%, 100%, 100%)"),console.log("run animation"),N.resize(300,0),e.image(N,400,e.height-300),p<350?(e.image(M,p,C),p+=5):p>450?(e.image(_,p,C),p-=5):(P.resize(300,0),e.image(P,p,C))):"play"==o.action?(e.background("rgb(100%, 100%, 100%)"),I.resize(200,0),T.resize(80,0),e.image(I,100,e.height-200),e.image(T,p+120,F+20),e.image(T,p+60,F),F>=C?F-=10:F<C-100&&(F+=10),p<50?(e.image(M,p,C),p+=5):p>150?(e.image(_,p,C),p-=5):e.image(k,p,C)):"clean"==o.action?(e.background("rgb(100%, 100%, 100%)"),E.resize(300,0),e.image(E,p,C)):e.image(k,p,C),o.alive||(e.background("rgb(100%, 100%, 100%)"),e.image(S,p,C),S.resize(300,0)))}),[o,n]));return Object(b.jsx)(L.a,{setup:function(e,t){e.createCanvas(t.offsetWidth,t.offsetHeight).parent(t),k=e.loadImage(A),w=e.loadImage(B),_=e.loadImage(G),M=e.loadImage(D),N=e.loadImage(U),S=e.loadImage(R),I=e.loadImage(H),E=e.loadImage(W),P=e.loadImage(J),T=e.loadImage(V),console.log(k),console.log(w),console.log(_),console.log(M),console.log(N),console.log(S),console.log(I),console.log(E),console.log(P),console.log(T),p=e.width/2-100,C=e.height-300,F=C},draw:c,className:"canvas"})}var $=a.a.memo(Y),q=(n(76),n(20));var K=function(e){var t=Object(i.useContext)(m),n=t.game,a=(t.setGame,Object(i.useContext)(v)),o=a.pet,c=(a.setPet,a.petActions);function r(e){if(!o.action)switch(e.keyCode){case 70:c.feed();break;case 80:c.play();break;case 67:c.clean()}}function j(e){return Object(b.jsxs)("div",{className:"stats",children:[Object(b.jsx)("div",{className:"statsLabel",children:e.label||"no label"}),Object(b.jsxs)("div",{className:"statsBackgroundBar",children:[Object(b.jsx)("div",{className:"statsForegroundBar",style:{width:"".concat(e.value,"%")}}),Object(b.jsx)("div",{className:"statsValue"})]})]})}return Object(i.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}),[]),Object(b.jsxs)("div",{className:"interactMenu",children:[Object(b.jsxs)("div",{className:"statsContainer",children:[Object(b.jsx)(j,{label:"Hunger",value:o.hunger}),Object(b.jsx)(j,{label:"Boredom",value:o.boredom}),Object(b.jsx)(j,{label:"Hygiene",value:o.hygiene}),Object(b.jsxs)("p",{children:["Score:  ",n.score]})]}),Object(b.jsx)(s.b,{onClick:function(){return c.feed()},disabled:!o.alive||o.action,children:"Feed"}),Object(b.jsx)(s.b,{onClick:function(){return c.play()},disabled:!o.alive||o.action,children:"Play"}),Object(b.jsx)(s.b,{onClick:function(){return c.clean()},disabled:!o.alive||o.action,children:"Clean"})]})};n(77),n(78);var Q=function(e){var t=Object(i.useContext)(m),n=t.game,a=t.setGame,o=Object(i.useContext)(v),c=(o.pet,o.petActions);return Object(b.jsxs)("div",{className:"MainMenu",children:[Object(b.jsx)("h2",{children:"Main Menu"}),Object(b.jsx)("label",{children:"Pet Name:"}),Object(b.jsx)("input",{onBlur:function(e){return c.name(e.target.value)}}),Object(b.jsx)(s.b,{onClick:function(){return a(Object(l.a)(Object(l.a)({},n),{},{start:!0}))},children:"Start"})]})};n(85);var X=function(e){var t=Object(i.useContext)(m),n=t.game,a=t.setGame,o=t.gameReset;return Object(b.jsx)(s.g,{isOpen:e.isOpen,children:Object(b.jsx)(s.d,{children:Object(b.jsxs)("div",{className:"modalContent",children:[Object(b.jsx)("h2",{children:"Settings"}),Object(b.jsx)(s.b,{onClick:function(){return a(Object(l.a)(Object(l.a)({},n),{},{mute:!n.mute}))},children:n.mute?"Unmute":"Mute"}),Object(b.jsx)(s.b,{onClick:function(){return o()},children:"Reset Game"}),Object(b.jsx)(s.b,{onClick:function(){return e.setShowModal(!e.isOpen)},children:"Close"}),Object(b.jsx)("h3",{children:"Scores"}),n.highScores.map((function(e){return Object(b.jsxs)("p",{children:[e.name,": ",e.score]},e.id)}))]})})})};n(86);function Z(){var e=Object(i.useContext)(m),t=e.game,n=e.setGame,a=e.gameReset,o=Object(i.useContext)(v),c=o.pet,r=o.setPet,j=o.petActions,d=Object(i.useState)(!1),h=Object(u.a)(d,2),g=h[0],O=h[1];return Object(i.useEffect)((function(){if(t.start){var e;if(c.alive)e=setTimeout((function(){return n(Object(l.a)(Object(l.a)({},t),{},{score:t.score+1})),r(Object(l.a)(Object(l.a)({},c),{},{hunger:c.hunger-.5,boredom:c.boredom-1,hygiene:c.hygiene-.3}))}),100);else if(window.confirm(c.name+" died! Play again?")){var i=c.name;j.reset(),a(i)}return function(){e&&clearTimeout(e)}}}),[c.hunger,c.boredom,c.hygiene,c.alive,t]),Object(b.jsxs)(s.h,{children:[Object(b.jsx)(s.e,{children:Object(b.jsxs)(s.l,{children:[Object(b.jsx)(s.k,{children:c.name||"Virtual Pet"}),Object(b.jsx)(s.c,{slot:"primary",children:Object(b.jsx)(s.b,{color:"primary",onClick:function(){return O(!g)},children:Object(b.jsx)(s.f,{icon:q.n})})})]})}),Object(b.jsxs)(s.d,{fullscreen:!0,children:[Object(b.jsx)("div",{className:"layoutContainer",children:Object(b.jsx)("div",{className:"contentContainer",children:t.start?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)($,{}),Object(b.jsx)(K,{})]}):Object(b.jsx)(Q,{})})}),Object(b.jsx)(X,{isOpen:g,setShowModal:O})]})]})}var ee=a.a.memo(Z);n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97);var te=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(h,{children:Object(b.jsx)(x,{children:Object(b.jsx)(j.a,{children:Object(b.jsxs)(s.j,{children:[Object(b.jsx)(r.b,{exact:!0,path:"/home",children:Object(b.jsx)(ee,{})}),Object(b.jsx)(r.b,{exact:!0,path:"/",children:Object(b.jsx)(r.a,{to:"/home"})})]})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,160)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),o(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(te,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ne()}},[[98,3,4]]]);
//# sourceMappingURL=main.dab7d03c.chunk.js.map